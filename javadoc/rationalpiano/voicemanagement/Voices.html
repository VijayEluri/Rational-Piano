<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Mon Jan 31 12:55:21 CET 2011 -->
<TITLE>
Voices
</TITLE>

<META NAME="date" CONTENT="2011-01-31">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Voices";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Voices.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../rationalpiano/voicemanagement/OneVoice.html" title="class in rationalpiano.voicemanagement"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?rationalpiano/voicemanagement/Voices.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Voices.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
rationalpiano.voicemanagement</FONT>
<BR>
Class Voices</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>rationalpiano.voicemanagement.Voices</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../rationalpiano/voicemanagement/ITickable.html" title="interface in rationalpiano.voicemanagement">ITickable</A>, <A HREF="../../rationalpiano/voicemanagement/IVoices.html" title="interface in rationalpiano.voicemanagement">IVoices</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Voices</B><DT>extends java.lang.Object<DT>implements <A HREF="../../rationalpiano/voicemanagement/IVoices.html" title="interface in rationalpiano.voicemanagement">IVoices</A></DL>
</PRE>

<P>
Manages all active voices and provides functions to add/remove voices and to calculate the consonances of all keys in range which also sets the visual element strengthness
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.11</DD>
<DT><B>Author:</B></DT>
  <DD>Fabian Ehrentraud</DD>
<DT><B>Licence:</B></DT>
  <DD>Licensed under the Open Software License (OSL 3.0)</DD>
<DT><B>Date:</B></DT>
  <DD>2011-01-28</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.concurrent.ConcurrentHashMap&lt;java.lang.Integer,<A HREF="../../rationalpiano/voicemanagement/OneVoice.html" title="class in rationalpiano.voicemanagement">OneVoice</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#activeVoices">activeVoices</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../rationalpiano/consonance/IConsonance.html" title="interface in rationalpiano.consonance">IConsonance</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#consonance">consonance</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../rationalpiano/voicemanagement/FadeTracking.html" title="class in rationalpiano.voicemanagement">FadeTracking</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#fade">fade</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#graphiccontrols">graphiccontrols</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.logging.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;processing.core.PApplet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#papplet">papplet</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.concurrent.ConcurrentSkipListSet&lt;java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#scheduledRemoveVoices">scheduledRemoveVoices</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#sustain">sustain</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.HashMap&lt;java.lang.Integer,java.lang.Double&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#voicesValues">voicesValues</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#Voices(processing.core.PApplet, rationalpiano.graphic.IGraphicControls, float, java.lang.Boolean, int, double)">Voices</A></B>(processing.core.PApplet&nbsp;papplet,
       <A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A>&nbsp;graphiccontrols,
       float&nbsp;framerate,
       java.lang.Boolean&nbsp;holdSustain,
       int&nbsp;maxfrac,
       double&nbsp;bellWidth)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializing this class with standard ADSR values</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#Voices(processing.core.PApplet, rationalpiano.graphic.IGraphicControls, float, double, double, double, double, boolean, int, double)">Voices</A></B>(processing.core.PApplet&nbsp;papplet,
       <A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A>&nbsp;graphiccontrols,
       float&nbsp;framerate,
       double&nbsp;attack,
       double&nbsp;decay,
       double&nbsp;sustain,
       double&nbsp;release,
       boolean&nbsp;holdSustain,
       int&nbsp;maxfrac,
       double&nbsp;bellWidth)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializing this class with the given parameters</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#newVoice(int, double)">newVoice</A></B>(int&nbsp;midiNoteNumber,
         double&nbsp;velocity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new voice with the given MIDI note number
 Can be concurrently called with tick() or releaseVoice().</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#releaseVoice(int)">releaseVoice</A></B>(int&nbsp;midiNoteNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases the given voice.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#setSustain(boolean)">setSustain</A></B>(boolean&nbsp;sustain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the sustain value to the given one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../rationalpiano/voicemanagement/Voices.html#tick()">tick</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Can be concurrently called with newVoice() or releaseVoice().</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="papplet"><!-- --></A><H3>
papplet</H3>
<PRE>
private processing.core.PApplet <B>papplet</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="graphiccontrols"><!-- --></A><H3>
graphiccontrols</H3>
<PRE>
private <A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A> <B>graphiccontrols</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="fade"><!-- --></A><H3>
fade</H3>
<PRE>
private <A HREF="../../rationalpiano/voicemanagement/FadeTracking.html" title="class in rationalpiano.voicemanagement">FadeTracking</A> <B>fade</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="consonance"><!-- --></A><H3>
consonance</H3>
<PRE>
private <A HREF="../../rationalpiano/consonance/IConsonance.html" title="interface in rationalpiano.consonance">IConsonance</A> <B>consonance</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="voicesValues"><!-- --></A><H3>
voicesValues</H3>
<PRE>
private java.util.HashMap&lt;java.lang.Integer,java.lang.Double&gt; <B>voicesValues</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="activeVoices"><!-- --></A><H3>
activeVoices</H3>
<PRE>
private java.util.concurrent.ConcurrentHashMap&lt;java.lang.Integer,<A HREF="../../rationalpiano/voicemanagement/OneVoice.html" title="class in rationalpiano.voicemanagement">OneVoice</A>&gt; <B>activeVoices</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="scheduledRemoveVoices"><!-- --></A><H3>
scheduledRemoveVoices</H3>
<PRE>
private java.util.concurrent.ConcurrentSkipListSet&lt;java.lang.Integer&gt; <B>scheduledRemoveVoices</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="sustain"><!-- --></A><H3>
sustain</H3>
<PRE>
private boolean <B>sustain</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
private static final java.util.logging.Logger <B>logger</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Voices(processing.core.PApplet, rationalpiano.graphic.IGraphicControls, float, java.lang.Boolean, int, double)"><!-- --></A><H3>
Voices</H3>
<PRE>
public <B>Voices</B>(processing.core.PApplet&nbsp;papplet,
              <A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A>&nbsp;graphiccontrols,
              float&nbsp;framerate,
              java.lang.Boolean&nbsp;holdSustain,
              int&nbsp;maxfrac,
              double&nbsp;bellWidth)</PRE>
<DL>
<DD>Initializing this class with standard ADSR values
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>papplet</CODE> - The processing applet belonging to this voice management object.<DD><CODE>graphiccontrols</CODE> - The GraphicControls object to ask for line positions and to manipulate lines.<DD><CODE>framerate</CODE> - Frame Rate of the target PApplet. Needed for scaling the attack, decay and release values which are given in seconds to frame counts.<DD><CODE>holdSustain</CODE> - true if a voice should hold its sustain level after attack + decay phase; false = pluck mode: there is no decay phase at all, the release phase starts directly after the attack phase.<DD><CODE>maxfrac</CODE> - The maximum dissonance value for rational numbers (numerator * denominator) to take account for. 157 is a good value. High values will cause longer initialization times!<DD><CODE>bellWidth</CODE> - The width of the bell shaped curve with which each fraction's point get's "fuzzified". bellWidth==1 means it's inflection point is at +- 1/Sqrt(e) semitones. bellWidth>0</DL>
</DL>
<HR>

<A NAME="Voices(processing.core.PApplet, rationalpiano.graphic.IGraphicControls, float, double, double, double, double, boolean, int, double)"><!-- --></A><H3>
Voices</H3>
<PRE>
public <B>Voices</B>(processing.core.PApplet&nbsp;papplet,
              <A HREF="../../rationalpiano/graphic/IGraphicControls.html" title="interface in rationalpiano.graphic">IGraphicControls</A>&nbsp;graphiccontrols,
              float&nbsp;framerate,
              double&nbsp;attack,
              double&nbsp;decay,
              double&nbsp;sustain,
              double&nbsp;release,
              boolean&nbsp;holdSustain,
              int&nbsp;maxfrac,
              double&nbsp;bellWidth)</PRE>
<DL>
<DD>Initializing this class with the given parameters
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>papplet</CODE> - The processing applet belonging to this voice management object.<DD><CODE>graphiccontrols</CODE> - The GraphicControls object to ask for line positions and to manipulate lines.<DD><CODE>framerate</CODE> - Frame Rate of the target PApplet. Needed for scaling the attack, decay and release values which are given in seconds to frame counts.<DD><CODE>attack</CODE> - Attack time in seconds. Time the voice volume reaches the velocity after activating it.<DD><CODE>decay</CODE> - Decay time in seconds. Time the voice volume reaches the sustain level after the attack phase.<DD><CODE>sustain</CODE> - Fraction of the velocity value where a voice gets held at after attack + decay phase. 0<=sustain<=1.<DD><CODE>release</CODE> - Release Time in seconds. Time the voice volume fades to 0 after releasing it.<DD><CODE>holdSustain</CODE> - true if a voice should hold its sustain level after attack + decay phase; false = pluck mode: there is no decay phase at all, the release phase starts directly after the attack phase.<DD><CODE>maxfrac</CODE> - The maximum dissonance value for rational numbers (numerator * denominator) to take account for. 157 is a good value. High values will cause longer initialization times!<DD><CODE>bellWidth</CODE> - The width of the bell shaped curve with which each fraction's point get's "fuzzified". bellWidth==1 means it's inflection point is at +- 1/Sqrt(e) semitones. bellWidth>0</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="newVoice(int, double)"><!-- --></A><H3>
newVoice</H3>
<PRE>
public boolean <B>newVoice</B>(int&nbsp;midiNoteNumber,
                        double&nbsp;velocity)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#newVoice(int, double)">IVoices</A></CODE></B></DD>
<DD>Adds a new voice with the given MIDI note number
 Can be concurrently called with tick() or releaseVoice().
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#newVoice(int, double)">newVoice</A></CODE> in interface <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html" title="interface in rationalpiano.voicemanagement">IVoices</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>midiNoteNumber</CODE> - MIDI note number to turn on<DD><CODE>velocity</CODE> - velocity to turn the given note on with; 0<=velocity<=1
<DT><B>Returns:</B><DD>true if the given MIDI note was turned off before and now is turned on, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="releaseVoice(int)"><!-- --></A><H3>
releaseVoice</H3>
<PRE>
public boolean <B>releaseVoice</B>(int&nbsp;midiNoteNumber)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#releaseVoice(int)">IVoices</A></CODE></B></DD>
<DD>Releases the given voice. This will start the voice's release phase.
 Can be concurrently called with tick() or newVoice().
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#releaseVoice(int)">releaseVoice</A></CODE> in interface <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html" title="interface in rationalpiano.voicemanagement">IVoices</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>midiNoteNumber</CODE> - MIDI note number to turn off
<DT><B>Returns:</B><DD>true if the given MIDI note was turned on before and thus was turned off, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="tick()"><!-- --></A><H3>
tick</H3>
<PRE>
public void <B>tick</B>()</PRE>
<DL>
<DD>Can be concurrently called with newVoice() or releaseVoice().
 Increments the hold time for each voice which sets its internal value to a new one according to ADSR.
 Also calculates the consonance anew.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../rationalpiano/voicemanagement/ITickable.html#tick()">tick</A></CODE> in interface <CODE><A HREF="../../rationalpiano/voicemanagement/ITickable.html" title="interface in rationalpiano.voicemanagement">ITickable</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSustain(boolean)"><!-- --></A><H3>
setSustain</H3>
<PRE>
public void <B>setSustain</B>(boolean&nbsp;sustain)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#setSustain(boolean)">IVoices</A></CODE></B></DD>
<DD>Sets the sustain value to the given one.
 Activated sustain will not release held voices, even if releaseVoices() is called for them.
 This is active until sustain is turned off again.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html#setSustain(boolean)">setSustain</A></CODE> in interface <CODE><A HREF="../../rationalpiano/voicemanagement/IVoices.html" title="interface in rationalpiano.voicemanagement">IVoices</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sustain</CODE> - True when sustain should be activated, False otherwise.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Voices.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../rationalpiano/voicemanagement/OneVoice.html" title="class in rationalpiano.voicemanagement"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?rationalpiano/voicemanagement/Voices.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Voices.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
